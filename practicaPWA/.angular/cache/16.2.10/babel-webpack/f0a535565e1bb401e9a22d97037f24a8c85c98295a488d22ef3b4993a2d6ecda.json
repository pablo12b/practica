{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Factura } from '../domain/factura';\nexport let FacturasComponent = class FacturasComponent {\n  constructor(facturasServices, detallesService) {\n    this.facturasServices = facturasServices;\n    this.detallesService = detallesService;\n    this.factura = new Factura();\n    this.detallesSeleccionados = [];\n  }\n  ngOnInit() {\n    this.facturas = this.facturasServices.getFacturas();\n    this.detallesService.detalles.subscribe(detallesActualizados => {\n      this.detalles = detallesActualizados;\n    });\n  }\n  seleccionarDetalle(detalle) {\n    // Agrega o elimina el detalle de la lista de seleccionados\n    const index = this.detallesSeleccionados.indexOf(detalle);\n    if (index > -1) {\n      this.detallesSeleccionados.splice(index, 1); // Elimina si ya est치 seleccionado\n    } else {\n      this.detallesSeleccionados.push(detalle); // Agrega si no est치 seleccionado\n    }\n  }\n\n  guardar() {\n    this.facturasServices.saveFacturas(this.factura).subscribe(data => {\n      console.log(data);\n      if (data.codigo == 1) this.ngOnInit();else alert(\"Error al insertar \" + data.mensaje);\n      this.ngOnInit();\n    });\n  }\n};\nFacturasComponent = __decorate([Component({\n  selector: 'app-facturas',\n  templateUrl: './facturas.component.html',\n  styleUrls: ['./facturas.component.css']\n})], FacturasComponent);","map":{"version":3,"names":["Component","Factura","FacturasComponent","constructor","facturasServices","detallesService","factura","detallesSeleccionados","ngOnInit","facturas","getFacturas","detalles","subscribe","detallesActualizados","seleccionarDetalle","detalle","index","indexOf","splice","push","guardar","saveFacturas","data","console","log","codigo","alert","mensaje","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\ROG ZEPHYRUS\\Documents\\GitHub\\practica\\practicaPWA\\src\\app\\pages\\facturas\\facturas.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FacturaService } from 'src/app/services/factura.service';\nimport { Factura } from '../domain/factura';\nimport { Cliente } from '../domain/cliente';\nimport { DetalleService } from 'src/app/services/detalle.service';\n\n@Component({\n  selector: 'app-facturas',\n  templateUrl: './facturas.component.html',\n  styleUrls: ['./facturas.component.css']\n})\nexport class FacturasComponent implements OnInit{\n  facturas: any\n  detalles: any\n\n  factura: Factura = new Factura()\n\n  \n  detallesSeleccionados: Detalle[] = []\n\n  constructor(private facturasServices: FacturaService, private detallesService: DetalleService){\n\n  }\n\n  ngOnInit(): void {\n    this.facturas = this.facturasServices.getFacturas()\n    this.detallesService.detalles.subscribe(detallesActualizados => {\n      this.detalles = detallesActualizados;\n    });\n  }\n\n\n  seleccionarDetalle(detalle: Detalle) {\n    // Agrega o elimina el detalle de la lista de seleccionados\n    const index = this.detallesSeleccionados.indexOf(detalle);\n    if (index > -1) {\n      this.detallesSeleccionados.splice(index, 1); // Elimina si ya est치 seleccionado\n    } else {\n      this.detallesSeleccionados.push(detalle); // Agrega si no est치 seleccionado\n    }\n  }\n\n  guardar(){\n    this.facturasServices.saveFacturas(this.factura).subscribe(data => {\n      console.log(data)\n      if(data.codigo ==1)\n        this.ngOnInit()\n      else\n        alert(\"Error al insertar \"+ data.mensaje)\n      this.ngOnInit()\n    })\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAEjD,SAASC,OAAO,QAAQ,mBAAmB;AASpC,WAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAS5BC,YAAoBC,gBAAgC,EAAUC,eAA+B;IAAzE,KAAAD,gBAAgB,GAAhBA,gBAAgB;IAA0B,KAAAC,eAAe,GAAfA,eAAe;IAL7E,KAAAC,OAAO,GAAY,IAAIL,OAAO,EAAE;IAGhC,KAAAM,qBAAqB,GAAc,EAAE;EAIrC;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACL,gBAAgB,CAACM,WAAW,EAAE;IACnD,IAAI,CAACL,eAAe,CAACM,QAAQ,CAACC,SAAS,CAACC,oBAAoB,IAAG;MAC7D,IAAI,CAACF,QAAQ,GAAGE,oBAAoB;IACtC,CAAC,CAAC;EACJ;EAGAC,kBAAkBA,CAACC,OAAgB;IACjC;IACA,MAAMC,KAAK,GAAG,IAAI,CAACT,qBAAqB,CAACU,OAAO,CAACF,OAAO,CAAC;IACzD,IAAIC,KAAK,GAAG,CAAC,CAAC,EAAE;MACd,IAAI,CAACT,qBAAqB,CAACW,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC;KAC9C,MAAM;MACL,IAAI,CAACT,qBAAqB,CAACY,IAAI,CAACJ,OAAO,CAAC,CAAC,CAAC;;EAE9C;;EAEAK,OAAOA,CAAA;IACL,IAAI,CAAChB,gBAAgB,CAACiB,YAAY,CAAC,IAAI,CAACf,OAAO,CAAC,CAACM,SAAS,CAACU,IAAI,IAAG;MAChEC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;MACjB,IAAGA,IAAI,CAACG,MAAM,IAAG,CAAC,EAChB,IAAI,CAACjB,QAAQ,EAAE,MAEfkB,KAAK,CAAC,oBAAoB,GAAEJ,IAAI,CAACK,OAAO,CAAC;MAC3C,IAAI,CAACnB,QAAQ,EAAE;IACjB,CAAC,CAAC;EACJ;CACD;AAzCYN,iBAAiB,GAAA0B,UAAA,EAL7B5B,SAAS,CAAC;EACT6B,QAAQ,EAAE,cAAc;EACxBC,WAAW,EAAE,2BAA2B;EACxCC,SAAS,EAAE,CAAC,0BAA0B;CACvC,CAAC,C,EACW7B,iBAAiB,CAyC7B"},"metadata":{},"sourceType":"module","externalDependencies":[]}